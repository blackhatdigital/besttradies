$(document).ready(function () {


$(function() {

      $('[data-toggle="popover"]').popover({
      });

    $( "#from" ).datepicker({
      defaultDate: "+1w",
      changeMonth: true,
      numberOfMonths: 1,


      onClose: function( selectedDate ) {
        $( "#to" ).datepicker( "option", "minDate", selectedDate );
        $( "#from" ).datepicker( "option", "dateFormat", "dd/mm/yy" );
      }
    });
    $( "#to" ).datepicker({
      defaultDate: "+1w",
      changeMonth: true,
      numberOfMonths: 1,
      onClose: function( selectedDate ) {
        $( "#from" ).datepicker( "option", "maxDate", selectedDate );
        $( "#to" ).datepicker( "option", "dateFormat", "dd/mm/yy" );
      }
    });
  });


$(function(){
$('input[type="checkbox"]').change(function(){
if($('input[type="checkbox"]').prop("checked") == true){
  $(".hourlyfee").prop("disabled", false);
  $(".flatfee").prop("disabled", true);
  $(".flatfee").removeClass( ".input-group-addon.danger" )
}else{
  $(".hourlyfee").prop("disabled", true);
  $(".flatfee").prop("disabled", false);
}
});
});




$(function() {

        $('input[type="checkbox"]').on('change', function() {
            $(this).closest('fieldset').find('.myClass').toggle(this.checked);
            $('.flatfee').toggle();
        });
    });



var $div1 = $('.new-job-p1'), 
    $div2 = $('.new-job-p2'),
    currentDiv = 'new-job-p1',
    $button = $('.new-job-p1-next');
    $back = $('.new-job-p1-back ');

$div2.hide();

  $($button).click(function(e) {  

	$div1.toggle('slide', {direction: 'left'}, 'slow', function () {
    $div2.toggle('slide', {direction: 'right'}, 'slow');
  }); 

    currentDiv = (currentDiv === 'div1') ? 'div2' : 'div1';
});


  $($back).click(function(e) {  

	$div2.toggle('slide', {direction: 'right'}, 'slow', function () {
    $div1.toggle('slide', {direction: 'left'}, 'slow');
  }); 

    currentDiv = (currentDiv === 'div2') ? 'div1' : 'div2';

});

    $('.input-group input[required], .input-group textarea[required], .input-group select[required]').on('keyup change', function() {
    var $form = $(this).closest('form'),
      $group = $(this).closest('.input-group'),
      $addon = $group.find('.input-group-addon'),
      $icon = $addon.find('span'),
      state = false;
            
      if (!$group.data('validate')) {
      state = $(this).val() ? true : false;
    }else if ($group.data('validate') == "email") {
      state = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(this).val())
    }else if($group.data('validate') == 'phone') {
      state = /^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/.test($(this).val())
    }else if ($group.data('validate') == "length") {
      state = $(this).val().length >= $group.data('length') ? true : false;
    }else if ($group.data('validate') == "number") {
      state = !isNaN(parseFloat($(this).val())) && isFinite($(this).val());
    }

    if (state) {
        $addon.removeClass('danger');
        $addon.addClass('success');
        $icon.attr('class', 'glyphicon glyphicon-ok');
    }else{
        $addon.removeClass('success');
        $addon.addClass('danger');
        $icon.attr('class', 'glyphicon glyphicon-pencil');
    }
        
        if ($form.find('.input-group-addon.danger').length == 0) {
            $form.find('[type="submit"]').prop('disabled', false);
        }else{
            $form.find('[type="submit"]').prop('disabled', true);
        }
  });
    
    $('.input-group input[required], .input-group textarea[required], .input-group select[required]').trigger('change');

    
});

